<div class="max-w-2xl mx-auto">
  <div class="flex items-center gap-4 mb-6">
    <a routerLink="/dashboard" class="btn btn-circle btn-ghost">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
    </a>
    <h1 class="text-3xl font-bold">Add New Item</h1>
  </div>

  <div class="card bg-base-100 shadow-xl">
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="card-body gap-4">

      <!-- Name -->
      <div class="form-control w-full">
        <label class="label">
          <span class="label-text">Item Name</span>
        </label>
        <input type="text" formControlName="name" placeholder="e.g. Milk, Carrots" class="input input-bordered w-full"
               [class.input-error]="form.get('name')?.invalid && form.get('name')?.touched" />
        @if (form.get('name')?.invalid && form.get('name')?.touched) {
        <label class="label">
          <span class="label-text-alt text-error">Name is required</span>
        </label>
        }
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Category -->
        <div class="form-control w-full">
          <label class="label">
            <span class="label-text">Category</span>
          </label>
          <select formControlName="category" class="select select-bordered w-full"
                  [class.select-error]="form.get('category')?.invalid && form.get('category')?.touched">
            <option value="" disabled selected>Select category</option>
            @for (cat of categories; track cat) {
            <option [value]="cat">{{ cat }}</option>
            }
          </select>
        </div>

        <!-- Location -->
        <div class="form-control w-full">
          <label class="label">
            <span class="label-text">Location</span>
          </label>
          <select formControlName="location" class="select select-bordered w-full">
            @for (loc of locations; track loc) {
            <option [value]="loc">{{ loc | titlecase }}</option>
            }
          </select>
        </div>
      </div>

      <!-- Quantity -->
       <div class="form-control w-full">
          <label class="label">
            <span class="label-text">Quantity</span>
          </label>
          <input type="number" formControlName="quantity" class="input input-bordered w-full" />
        </div>

      <!-- Expiration Date -->
      <div class="form-control w-full">
        <label class="label">
          <span class="label-text">Expiration Date</span>
        </label>
        <input type="date" formControlName="expirationDate" class="input input-bordered w-full" />
      </div>

      <div class="card-actions justify-end mt-6">
        <button type="submit" class="btn btn-primary" [disabled]="form.invalid">
          Add Item
        </button>
      </div>
    </form>
  </div>
</div>
